12.02.2020 infotech.exe ver.1.5
-------------------------------

+ поддержка полей "ИУСТ" в `infotech.xml` (версия 1.4.1 [библиотеки oeg-infotech](https://github.com/vb64/oeg.infotech.xml)).

* автотесты переведены на использование pytest

15.03.2019 infotech.exe ver.1.4
-------------------------------

* программа переведена на использование библиотеки https://github.com/vb64/oeg.infotech.xml

03.10.2018 infotech.exe ver.1.3
-------------------------------

* программа упакована в один exe файл без дополнительных модулей.

27.09.2018 infotech.exe ver.1.2
-------------------------------

* кодировка создаваемого xml файла изменена с "cp1251" на "windows-1251"

10.09.2018 infotech.exe ver.1.1
-------------------------------

* при выводе содержимого xml файла в csv файл, в полях, содержащих значения с плавающей точкой (ориентация и толщина), символ десятичной точки заменяется на символ запятой. при открытии кликом по такому csv файлу MS Excel не преобразовывает значение таких полей в дату.

10.09.2018 infotech.exe ver.1.0
-------------------------------

Утилита командной строки infotech.exe предназначена для обработки .xml файлов ИНФОТЕХ, созданных из базы данных PARC. Использование:

> infotech.exe команда файл.xml

Команды csv_weld, csv_lineobj, csv_defect выводят на экран содержимое секций WELDS, LINEOBJS, DEFECTS (соответствено) .xml файла в виде .CSV файла, котороый можно открыть в MS Excel.
Для записи результата работы программы в файл нужно использовать символ перенаправления вывода '>'. Например, для создания файла швы.csv, содержащего все швы из файла инфотех.xml, нужно использовать следующую команду:

> infotech.exe csv_weld инфотех.xml >швы.csv

Команда reverse "переворачивает" последовательность швов, дефектов и линейных обьектов в .xml файле и выводит на экран содержимое "перевернутого" xml файла. Данные xml файла при этом преобразуются следующим образом:

- Дистанции швов и линейных обьктов пересчитываются с конца записи (дистанция последнего шва + длина последней трубы)
- Дистанции дефектов пересчитываются с конца записи с учетом длины дефекта (конец дефекта становится его началом)
- Ориентации дефектов и продольных швов пересчитываются в зеркальном отображении (ориентация на 3 часа становится ориентацией на 9 часов и т.п.)
- Существующая нумерация труб и дефектов сбрасывается, трубы и дефекты нумеруются в соответствии с новым порядком, новая нумерация начинается с 1.
- У линейных обьектов, имеющих начало и конец, эти пары меняются местами (начало патрона становится концом патрона, конец патрона становится началом патрона). Такая перестановка проводится для следующих пар линейных обьектов:
"Начало водной преграды", "Конец водной преграды"
"Начало дистанции", "Конец дистанции"
"Нарушения адгезии изоляции трубы начало", "Нарушения адгезии изоляции трубы конец"
"Отвод (поворот) начало", "Отвод (поворот) конец"
"Патрон начало", "Патрон конец"
"Сегментный участок начало", "Сегментный участок конец"
"Участок пригрузов начало", "Участок пригрузов конец"

Например, для создания "перевернутого" файла revert.xml из файла инфотех.xml нужно использовать следующую команду:

> infotech.exe reverse инфотех.xml >revert.xml

Команда fix исправляет неверные данные снаряда "УМДП-1400" в секции PIGPASS, если ссылка на данный снаряд имеется в этой секции.
Исправляются следующие поля элемента секции PIGPASS: MANUFACT_DATE="2017" PIGTYPE="990004033563" OBSLTYPE="2"

Например, для создания исправленной версии файла инфотех.xml и записи ее в файл fixed.xml нужно использовать следующую команду:

> infotech.exe fix инфотех.xml >fixed.xml

Команда join обьединяет несколько xml файлов в один файл. В качестве заголовка итогового файла и данных о пропусках (секция PIGPASS) выбираются данные из первого файла в цепочке.
Дистанции всех обьектов пересчитываются в соответствии с их расположением в цепочке файлов. Нумерация труб и дефектов начинается с 1.
В цепочке файлов могут присутствовать "стыковочные" элементы.
Если в цепочке файлов есть элементы, состоящие из одних цифр, то такой элемент интерпретируется как труба типа "Неопределенная секция" длиной в указанное кол-во сантиметров, без продольных швов и с толщиной, равной толщине предыдущей трубы.

Например, чтобы пристыковать к обьектам файла первый.xml две трубы длинами 11 и 10 метров, а затем данные из файла второй.xml и записать полученный результат в файл результат.xml, нужно использовать следующую команду:

> infotech.exe join первый.xml 1100 1000 второй.xml >результат.xml
